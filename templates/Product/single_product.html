{% extends 'base.html' %}
{% load static %}
{% block content %}

    <!--page header section start-->
    <section class="page-header position-relative overflow-hidden ptb-120 bg-dark"
             style="background: url('{% static "assets/img/page-header-bg.svg" %}')no-repeat bottom right">
        <div class="container">
            <div class="row justify-content-between align-items-center">
                <div class="col-lg-8 col-12">
                    <div class="company-info-wrap align-items-center">
                        <div class="company-logo p-4 bg-white shadow rounded-custom me-4 mt-2">
                            <div class="logo justify-content-center">
                                <img src="{{ product.icon.url }}" alt="company logo"
                                     class="img-fluid">
                            </div>
                        </div>
                        <div class="company-overview">
                            <h1 class="display-5 fw-bold">{{ product.name }}</h1>
                            {#                            <p class="lead mb-0">{{ product.description }}</p>#}
                        </div>
                    </div>
                </div>
            </div>

            <div class="bg-circle rounded-circle circle-shape-3 position-absolute bg-dark-light left-5"></div>
        </div>
    </section>
    <!--page header section end-->


    <!--blog details section start-->
    <section class="blog-details ptb-120">
        <div class="container">
            <div class="row justify-content-between">
                <div class="col-lg-8 pe-5">
                    <div class="blog-details-wrap">
                        <p>{{ product.description }}</p>
                        <div class="blog-details-info mt-5">
                            <h3 class="h5">ویژگی های داده</h3>
                            <ul class="content-list list-unstyled">
                                <table class="table table-striped  table-hover">
                                    <thead>
                                    <tr>
                                        <th scope="col">ویژگی ها و توضیحات</th>
                                        <th scope="col">مثال</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    {% for attributes in product.data_attribute.all %}
                                        <tr>
                                            <td>{{ attributes.attribute }}
                                                <h6>{{ attributes.description }}</h6>
                                            </td>
                                            <td>{{ attributes.example }}</td>
                                        </tr>
                                    {% endfor %}
                                    </tbody>
                                </table>
                            </ul>
                            {#                            <blockquote#}
                            {#                                    class="bg-white custom-shadow p-5 mt-5 rounded-custom border-4 border-primary border-top">#}
                            {#                                <p class="text-muted"><i class="fas fa-quote-left me-2 text-primary"></i> شبکه های#}
                            {#                                    جهانی طرح های بلندمدت با تأثیر بالا در برابر تجارت الکترونیکی متمایز#}
                            {#                                    زیرساخت های رسانه ای بیش از آنکه اخلاقی باشند. به طور قابل اعتماد تجسم روش های#}
                            {#                                    آزمون متمایز بدون پایان دادن به پایان.به طور یکپارچه جوامع متقاطع پلت فرم با#}
                            {#                                    بازارهای باطن.به طور خلاصه خدمات کسب و کار را از طریق راه حل های قوی استفاده#}
                            {#                                    کنید.به طرز وحشیانه ای زیرساخت های متقابل را به جای معیارهای دقیق ارائه می دهند.#}
                            {#                                    <i class="fas fa-quote-right ms-2 text-primary"></i>#}
                            {#                                </p>#}
                            {#                            </blockquote>#}
                            <br>
                            <h3 class="h5">جفرافیا</h3>
                            <!-- HTML -->
                            <div id="chartdiv"></div>
                            <br>
                            <!-- Styles -->
                            <style>
                                #chartdiv {
                                    width: 100%;
                                    height: 500px;
                                    overflow: hidden;
                                }
                            </style>
                        </div>
                        <div class="job-details-info mt-5">
                            <h3 class="h5">تاریخچه</h3>
                            <p>{{ product.history }}</p>
                        </div>

                        <div class="blog-details-info mt-5">
                            <h3 class="h5">Volume</h3>
                            <table class="table table-hover">
                                <tbody>
                                {% for volume in product.volume.all %}
                                    <tr>
                                        <td>{{ volume.number }}</td>
                                        <td>{{ volume.content }}</td>
                                    </tr>
                                {% endfor %}
                                </tbody>
                            </table>
                        </div>

                        <div class="blog-details-info mt-5">
                            <h3 class="h5">قیمت گذاری</h3>
                            <table class="table table-hover">
                                <tbody>
                                {% for pricing in product.pricing.all %}
                                    <tr>
                                        <td>{{ pricing.license }}</td>
                                        <td>{{ pricing.start_at }}</td>
                                    </tr>
                                {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="blog-details-info mt-5">
                        <h3 class="h5">اندازه شرکت </h3>
                        <br>
                        {% for i in product.suitable_company.all %}
                            {% if i.id == 1 %}
                                <div class="btn btn-outline-success">شرکت کوچک
                                    <i class="fas fa-check"></i>
                                </div>
                            {% endif %}
                            {% if i.id == 2 %}
                                <div class="btn btn-outline-success">شرکت متوسط
                                    <i class="fas fa-check"></i>
                                </div>
                            {% endif %}
                            {% if i.id == 3 %}
                                <div class="btn btn-outline-success">شرکت بزرگ
                                    <i class="fas fa-check"></i>
                                </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                    <div class="blog-details-info mt-5">
                        <h3 class="h4">تحویل</h3>
                        <br>
                        <h3 class="h6">روش ها</h3>
                        <br>
                        {% for i in product.methods.all %}
                            <div class="btn btn-outline-success">{{ i.method }}
                                <i class="fas fa-check"></i>
                            </div>
                        {% endfor %}
                        <br>
                        <br>
                        <h3 class="h6">فرکانس ها</h3>
                        <br>
                        {% for i in product.frequency.all %}
                            <div class="btn btn-outline-success">{{ i.frequency }}
                                <i class="fas fa-check"></i>
                            </div>
                        {% endfor %}
                        <br>
                        <br>
                        <h3 class="h6">فرمت ها</h3>
                        <br>
                        {% for i in product.format.all %}
                            <div class="btn btn-outline-success">{{ i.format }}
                                <i class="fas fa-check"></i>
                            </div>
                        {% endfor %}
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="author-wrap text-center bg-light p-5 sticky-sidebar rounded-custom mt-5 mt-lg-0">
                        <img src=" {{ product.provider.manager_img.url }}" alt="author" width="120"
                             class="img-fluid shadow-sm rounded-circle">
                        <div class="author-info my-4">
                            <h5 class="mb-0">{{ product.provider.manager_name }}</h5>
                        </div>
                        <p>{{ product.provider.description }}</p>
                        <ul class="list-unstyled author-social-list list-inline mt-3 mb-0">
                            <li class="list-inline-item"><a href="#"><i class="fab fa-linkedin-in"></i></a></li>
                            <li class="list-inline-item"><a href="#"><i class="fab fa-twitter"></i></a></li>
                            <li class="list-inline-item"><a href="#"><i class="fab fa-github"></i></a></li>
                            <li class="list-inline-item"><a href="#"><i class="fab fa-facebook-f"></i></a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <!--newsletter subscription container start-->
        <div class="container">
            <!--cat subscribe start-->
            <div class="bg-dark ptb-60 px-5 mt-100 position-relative overflow-hidden rounded-custom"
                 style="background: url('{% static "assets/img/page-header-bg.svg" %}')no-repeat center bottom">
                <div class="row justify-content-center">
                    <div class="col-lg-8 col-md-9">
                        <div class="subscribe-info-wrap text-center position-relative z-2">
                            <div class="section-heading">
                                <h4 class="h5 text-warning">برای آخرین اخبار و به روز رسانی</h4>
                                <h2>آیا می خواهید بهترین بینش را دریافت کنید؟مشترک شوید حالا!</h2>
                                <p>ما می توانیم به شما کمک کنیم تا وب سایت رویای خود را برای درآمد ایجاد کنید.</p>
                            </div>
                            <div class="form-block-banner mw-60 m-auto mt-5">
                                <form id="email-form2" name="email-form" class="subscribe-form d-flex">
                                    <input type="email" class="form-control me-2" name="Email" data-name="Email"
                                           placeholder="ایمیل خود را وارد کنید" id="Email2" required="">
                                    <input type="submit" value="پیوستن به ما!" data-wait="صبر کنید ..."
                                           class="btn btn-primary">
                                </form>
                            </div>
                            <ul class="nav justify-content-center subscribe-feature-list mt-3">
                                <li class="nav-item">
                                    <span><i class="fad fa-dot-circle text-primary me-2"></i>نگران نباشید ما هرزنامه را نمی فرستیم</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="bg-circle rounded-circle circle-shape-1 position-absolute bg-dark-light left-5"></div>
            </div>
            <!--cat subscribe end-->
        </div>
        <!--newsletter subscription container end-->
    </section>
    <!--blog details section end-->
    {% block script %}
        <script src="https://cdn.amcharts.com/lib/5/index.js"></script>
        <script src="https://cdn.amcharts.com/lib/5/xy.js"></script>
        <script src="https://cdn.amcharts.com/lib/5/themes/Animated.js"></script>
        <script src="https://cdn.amcharts.com/lib/5/map.js"></script>
        <script src="https://cdn.amcharts.com/lib/5/geodata/worldLow.js"></script>
        <script src="https://cdn.amcharts.com/lib/5/locales/de_DE.js"></script>
        <script src="https://cdn.amcharts.com/lib/5/geodata/germanyLow.js"></script>
        <script src="https://cdn.amcharts.com/lib/5/fonts/notosans-sc.js"></script>
        <!-- Chart code -->
        <script>
            am5.ready(function () {

// Create root element
// https://www.amcharts.com/docs/v5/getting-started/#Root_element
                var root = am5.Root.new("chartdiv");

// Set themes
// https://www.amcharts.com/docs/v5/concepts/themes/
                root.setThemes([
                    am5themes_Animated.new(root)
                ]);

// Create the map chart
// https://www.amcharts.com/docs/v5/charts/map-chart/
                var chart = root.container.children.push(
                    am5map.MapChart.new(root, {
                        panX: "rotateX",
                        panY: "translateY",
                        projection: am5map.geoMercator()
                    })
                );

                var cont = chart.children.push(
                    am5.Container.new(root, {
                        layout: root.horizontalLayout,
                        x: 20,
                        y: 40
                    })
                );

// Add labels and controls
                {#cont.children.push(#}
                {#    am5.Label.new(root, {#}
                {#        centerY: am5.p50,#}
                {#        text: "Map"#}
                {#    })#}
                {#);#}

                {#var switchButton = cont.children.push(#}
                {#    am5.Button.new(root, {#}
                {#        themeTags: ["switch"],#}
                {#        centerY: am5.p50,#}
                {#        icon: am5.Circle.new(root, {#}
                {#            themeTags: ["icon"]#}
                {#        })#}
                {#    })#}
                {#);#}

                {#switchButton.on("active", function () {#}
                {#    if (!switchButton.get("active")) {#}
                {#        chart.set("projection", am5map.geoMercator());#}
                {#        chart.set("panY", "translateY");#}
                {#        chart.set("rotationY", 0);#}
                {#        backgroundSeries.mapPolygons.template.set("fillOpacity", 0);#}
                {#    } else {#}
                {#        chart.set("projection", am5map.geoOrthographic());#}
                {#        chart.set("panY", "rotateY")#}
                {##}
                {#        backgroundSeries.mapPolygons.template.set("fillOpacity", 0.1);#}
                {#    }#}
                {#})#}
                    {#    ;#}


                    {#cont.children.push(#}
                    {#    am5.Label.new(root, {#}
                    {#        centerY: am5.p50,#}
                    {#        text: "Globe"#}
                    {#    })#}
                    {#);#}

// Create series for background fill
// https://www.amcharts.com/docs/v5/charts/map-chart/map-polygon-series/#Background_polygon
                    var backgroundSeries = chart.series.push(am5map.MapPolygonSeries.new(root, {}));
                    backgroundSeries.mapPolygons.template.setAll({
                        fill: root.interfaceColors.get("alternativeBackground"),
                        fillOpacity: 0,
                        strokeOpacity: 0
                    });

// Add background polygon
// https://www.amcharts.com/docs/v5/charts/map-chart/map-polygon-series/#Background_polygon
                    backgroundSeries.data.push({
                        geometry: am5map.getGeoRectangle(90, 180, -90, -180)
                    });

// Create main polygon series for countries
// https://www.amcharts.com/docs/v5/charts/map-chart/map-polygon-series/
                    var polygonSeries = chart.series.push(
                        am5map.MapPolygonSeries.new(root, {
                            geoJSON: am5geodata_worldLow
                        })
                    );

// Create line series for trajectory lines
// https://www.amcharts.com/docs/v5/charts/map-chart/map-line-series/
                    var lineSeries = chart.series.push(am5map.MapLineSeries.new(root, {}));
                    lineSeries.mapLines.template.setAll({
                        stroke: root.interfaceColors.get("alternativeBackground"),
                        strokeOpacity: 0.3
                    });

// Create point series for markers
// https://www.amcharts.com/docs/v5/charts/map-chart/map-point-series/
                    var pointSeries = chart.series.push(am5map.MapPointSeries.new(root, {}));
                    var colorset = am5.ColorSet.new(root, {});

                    pointSeries.bullets.push(function () {
                        var container = am5.Container.new(root, {});

                        var circle = container.children.push(
                            am5.Circle.new(root, {
                                radius: 4,
                                tooltipY: 0,
                                fill: colorset.next(),
                                strokeOpacity: 0,
                                tooltipText: "{title}"
                            })
                        );

                        var circle2 = container.children.push(
                            am5.Circle.new(root, {
                                radius: 4,
                                tooltipY: 0,
                                fill: colorset.next(),
                                strokeOpacity: 0,
                                tooltipText: "{title}"
                            })
                        );

                        circle.animate({
                            key: "scale",
                            from: 1,
                            to: 5,
                            duration: 600,
                            easing: am5.ease.out(am5.ease.cubic),
                            loops: Infinity
                        });
                        circle.animate({
                            key: "opacity",
                            from: 1,
                            to: 0,
                            duration: 600,
                            easing: am5.ease.out(am5.ease.cubic),
                            loops: Infinity
                        });

                        return am5.Bullet.new(root, {
                            sprite: container
                        });
                    });

                    var cities = [
                        {
                            title: "Brussels",
                            latitude: 50.8371,
                            longitude: 4.3676
                        },
                        {
                            title: "Copenhagen",
                            latitude: 55.6763,
                            longitude: 12.5681
                        },
                        {
                            title: "Paris",
                            latitude: 48.8567,
                            longitude: 2.351
                        },
                        {
                            title: "Reykjavik",
                            latitude: 64.1353,
                            longitude: -21.8952
                        },
                        {
                            title: "Moscow",
                            latitude: 55.7558,
                            longitude: 37.6176
                        },
                        {
                            title: "Madrid",
                            latitude: 40.4167,
                            longitude: -3.7033
                        },
                        {
                            title: "London",
                            latitude: 51.5002,
                            longitude: -0.1262,
                            url: "http://www.google.co.uk"
                        },
                        {
                            title: "Peking",
                            latitude: 39.9056,
                            longitude: 116.3958
                        },
                        {
                            title: "New Delhi",
                            latitude: 28.6353,
                            longitude: 77.225
                        },
                        {
                            title: "Tokyo",
                            latitude: 35.6785,
                            longitude: 139.6823,
                            url: "http://www.google.co.jp"
                        },
                        {
                            title: "Ankara",
                            latitude: 39.9439,
                            longitude: 32.856
                        },
                        {
                            title: "Buenos Aires",
                            latitude: -34.6118,
                            longitude: -58.4173
                        },
                        {
                            title: "Brasilia",
                            latitude: -15.7801,
                            longitude: -47.9292
                        },
                        {
                            title: "Ottawa",
                            latitude: 45.4235,
                            longitude: -75.6979
                        },
                        {
                            title: "Washington",
                            latitude: 38.8921,
                            longitude: -77.0241
                        },
                        {
                            title: "Kinshasa",
                            latitude: -4.3369,
                            longitude: 15.3271
                        },
                        {
                            title: "Cairo",
                            latitude: 30.0571,
                            longitude: 31.2272
                        },
                        {
                            title: "Pretoria",
                            latitude: -25.7463,
                            longitude: 28.1876
                        }
                    ];

                    for (var i = 0; i < cities.length; i++) {
                        var city = cities[i];
                        addCity(city.longitude, city.latitude, city.title);
                    }

                    function addCity(longitude, latitude, title) {
                        pointSeries.data.push({
                            geometry: {type: "Point", coordinates: [longitude, latitude]},
                            title: title
                        });
                    }

// Make stuff animate on load
                    chart.appear(1000, 100);


                }
            )
                ; // end am5.ready()
        </script>
    {% endblock script %}

{% endblock content %}